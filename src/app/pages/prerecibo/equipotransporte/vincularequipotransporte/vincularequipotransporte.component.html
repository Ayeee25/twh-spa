
  
  <div class="light-font">
      <nav aria-label="breadcrumb" role="navigation">
        <ol class="breadcrumb primary-color">
      <li class="breadcrumb-item" [routerLink]="['/recibo/listaordenrecibo']" routerLinkActive="router-link-active" >Listado de órdenes</li>
      <li class="breadcrumb-item active">Vincular Equipo de Transporte</li>
    </ol>
  </nav>
</div>
<div class="main-content container-fluid">

<form #f="ngForm"  (ngSubmit)="registrar(f)" >
    <div class="row">
      <div class="col-md-8 offset-2">
          <div class="card card-border-color card-border-color-primary">
            <div class="card-header card-header-divider">Vehículo<span class="card-subtitle"> Datos del vehículo y Empresa Transportista</span></div>
            <div class="card-body ">
              <div class="form-group">
                <label  for="HoraEsperada">Placa</label>
                <div class="row">
                    <input pInputText  minlength="5" maxlength="8"  size="15" class="form-control col-md-11" [(ngModel)]="model.placa" (blur)="onBlurMethod($event.target.value)" required name="placa" #placa="ngModel"  type="text">
                      <div [hidden]="PlacaEncontrada()" > <i class="fas fa-check"></i>  Placa encontrada  </div>
                      <div [hidden]="!PlacaEncontrada()" > <button  class="btn btn-primary" (click)="openDialog(model.placa)" type="button"><i class="fa fa-search"></i></button> </div>
                    </div>
                  <mat-error class="alert alert-danger" *ngIf="placa.hasError('minlength')"> 
                      Debe tener mas de 5 caracteres.
                  </mat-error>
                </div>
                <div class="form-group">
                  <label  for="clientes">Tipo de Vehículo</label>
                    <p-dropdown name="tipoVehiculo" [options]="tipoVehiculo"  [(ngModel)]="model.tipoVehiculo"  required
                    scrollHeight="40vh" class="input-form-field  col-md-12"    [style]="{'width':'100%'}"  [resetFilterOnHide]="false" 
                    [hideTransitionOptions]="'0ms'"
                    [showTransitionOptions]="'0ms'" 
                    placeholder="seleccione un vehículo"  
                    filter="false">
                        <ng-template let-item pTemplate="selectedItem">
                            <span style="vertical-align:left;">{{item.label}}</span>
                        </ng-template>
                      </p-dropdown>
                   </div> 
                    <div class="form-group">
                      <label  for="clientes">Marca de Vehículo</label>
                        <p-dropdown name="marcaVehiculo" [options]="marcaVehiculo"  [(ngModel)]="model.marcaVehiculo"  required
                        scrollHeight="40vh" class="input-form-field  col-md-12"    [style]="{'width':'100%'}"  [resetFilterOnHide]="false" 
                        [hideTransitionOptions]="'0ms'"
                        [showTransitionOptions]="'0ms'" 
                        placeholder="seleccione la marca"  
                        filter="false">
                            <ng-template let-item pTemplate="selectedItem">
                                <span style="vertical-align:left;">{{item.label}}</span>
                            </ng-template>
                          </p-dropdown>
                       </div> 
                       <div class="form-group">
                         <div class="row">
                             <label  for="clientes">Empresa Transportista</label>
                              <input pInputText [(ngModel)]="model.razonSocial"  size="15" class="form-control col-md-11"  name="razonSocial"  #razonSocial="ngModel"  type="text">
                               <input pInputText [(ngModel)]="model.ruc" name="ruc" class="input-form-field  col-md-12"   type="hidden">
                                <button  class="btn btn-primary" (click)="openDialog_EmpTrans()" type="button"><i class="fa fa-search"></i></button>
                             </div>
                        </div>
                      <div class="form-group">
                        <label  for="HoraEsperada">RUC</label>
                      <input pInputText maxlength="13" size="15" class="form-control col-md-12" required  [(ngModel)]="model.ruc" name="ruc" #ruc="ngModel" type="text">
                </div>  
              </div>
              </div>
            </div>
            <div class="col-md-8 offset-2">
              <div class="card card-border-color card-border-color-primary">
                <div class="card-header card-header-divider">Chofer <span class="card-subtitle"> Datos del chofer</span></div>
                <div class="card-body ">
                  <div class="form-group">
                    <label  for="HoraEsperada">DNI</label>
                    <div class="row">
                            <input  size="15" class="form-control col-md-11" pInputText required (keypress)="numberOnly($event)" minlength="8" maxlength="8"  type="text"  [(ngModel)]="model.dni" name="dni" #dni="ngModel"  placeholder="DNI del chofer"  >

                          <button  class="btn btn-primary" (click)="openDialog_Dni(model.dni)" type="button"><i class="mdi mdi-search"></i></button>
                        </div>
                        <mat-error class="alert alert-danger" *ngIf="dni.hasError('minlength')"> 
                          Debe tener mas de 8 caracteres.
                      </mat-error>
                    </div>
                    <div class="form-group">
                      <label  for="HoraEsperada">Nombre completo</label>
                        <input pInputText size="15" class="form-control col-md-12" required minlength="5" maxlength="22"  autocomplete="off" [(ngModel)]="model.nombreCompleto" name="nombreCompleto" #nombreCompleto="ngModel" type="text">
                    </div>
                    <div class="form-group">
                      <label  for="HoraEsperada">Brevere</label>
                        <input pInputText required size="15" class="form-control col-md-12" minlength="5" maxlength="12"  autocomplete="off" [(ngModel)]="model.brevete" name="brevete" #brevete="ngModel" type="text">
                    </div>
                    <div class="row pt-2 pt-sm-5 mt-1">
                        <div class="col-sm-6 pl-0">
                          <p class="text-right">
                            <button  [disabled]="!f.valid" class="btn btn-space btn-primary" type="submit">Vincular</button>
                            <button  [routerLink]="['/recibo/listaordenrecibo']" routerLinkActive="router-link-active"  class="btn btn-space btn-secondary">Cancel</button>
                          </p>
                        </div>
                      </div>
                </div>
                </div>
              </div>
      </div>
    </form>       
</div>
